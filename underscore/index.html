<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="description" content="underscore">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Underscore Demo</title>
<link rel="alternate" type="application/rss+xml" title="" href="feed/index.html">
<link href="http://fonts.googleapis.com/css?family=Raleway:700,300" rel="stylesheet" type="text/css">
<link rel="stylesheet" href="css/style.css">
<link rel="stylesheet" href="css/prettify.css">
</head>
<body>
<div class="wrapper">
<header>
  <div class="container">
    <h2 class="lone-header">Underscore Demo</h2>
  </div>
</header>
<section>
  <div class="container">
    <ul class="docs-nav">
      <li><strong>介绍(Introduction)</strong></li>
      <li><a href="#summary" class="cc-active">概述</a></li>
      <li class="separator"></li>
      <li><strong>集合(Collection)</strong></li>
      <li><a href="#view_each" class="cc-active">each</a></li>
      <li><a href="#view_map" class="cc-active">map</a></li>
      <li><a href="#view_reduce" class="cc-active">reduce</a></li>
      <li><a href="#view_reduceRight" class="cc-active">reduceRight</a></li>
      <li><a href="#view_find" class="cc-active">find</a></li>
      <li><a href="#view_filter" class="cc-active">filter</a></li>
      <li><a href="#view_where" class="cc-active">where</a></li>
      <li><a href="#view_findWhere" class="cc-active">findWhere</a></li>
      <li><a href="#view_reject" class="cc-active">reject</a></li>
      <li><a href="#view_every" class="cc-active">every</a></li>
      <li><a href="#view_some" class="cc-active">some</a></li>
      <li><a href="#view_contains" class="cc-active">contains</a></li>
      <li><a href="#view_invoke" class="cc-active">invoke</a></li>
      <li><a href="#view_pluck" class="cc-active">pluck</a></li>
      <li><a href="#view_max" class="cc-active">max</a></li>
      <li><a href="#view_min" class="cc-active">min</a></li>
      <li><a href="#view_sortBy" class="cc-active">sortBy</a></li>
      <li><a href="#view_groupBy" class="cc-active">groupBy</a></li>
      <li><a href="#view_indexBy" class="cc-active">indexBy</a></li>
      <li><a href="#view_countBy" class="cc-active">countBy</a></li>
      <li><a href="#view_shuffle" class="cc-active">shuffle</a></li>
      <li><a href="#view_sample" class="cc-active">sample</a></li>
      <li><a href="#view_toArray" class="cc-active">toArray</a></li>
      <li><a href="#view_size" class="cc-active">size</a></li>
      <li><a href="#view_partition" class="cc-active">partition</a></li>
	    <li class="separator"></li>
	    <li><strong>数组(Arrays)</strong></li>
      <li><a href="#view_first" class="cc-active">first</a></li>
      <li><a href="#view_initial" class="cc-active">initial</a></li>
      <li><a href="#view_last" class="cc-active">last</a></li>
    </ul>
    <div class="docs-content">
      <h2> 介绍（Introduction）</h2>
      <h3 id="summary"> 概述</h3>
      <p> Underscore是一个JavaScript实用库，提供了一整套函数式编程的实用功能，但是没有扩展任何JavaScript内置对象。</p>
      <p> Underscor.js定义了一个下划线（_）对象，函数库的所有方法都属于这个对象。这些方法大致上可以分成：集合（collection）、数组（array）、函数（function）、对象（object）和工具（utility）五大类。 </p>
	    <p> Underscore提供了100多个函数,包括常用的: map, filter, invoke — 当然还有更多专业的辅助函数,如:函数绑定, JavaScript模板功能,创建快速索引, 强类型相等测试, 等等.</p>
      <p> 这里以Underscore.js (1.8.3)版本的API为参考，进行一些函数实例应用的描述。</p>
      <hr>
      <h2> 集合(Collection)</h2>
      <h3 id="view_each"> each</h3>
      <ul>
        <li>_.each(list, iteratee, [context]) &nbsp;&nbsp;&nbsp;&nbsp;<i>Alias: <strong>forEach</strong></i></li>
      </ul>
      <p>
         说明：遍历<strong>list</strong>中的所有元素，按顺序用遍历输出每个元素。
   		   如果传递了<strong>context</strong>参数，则把<strong>iteratee</strong>绑定到<strong>context</strong>对象上。
   		   每次调用<strong>iteratee</strong>都会传递三个参数：(element, index, list)。
   		   如果<strong>list</strong>是个JavaScript对象，<strong>iteratee</strong>的参数是 (value, key, list))。
   		   返回<strong>list</strong>以方便链式调用。<br />
   		   注：如果存在原生的<strong>forEach</strong>方法，Underscore就使用它代替
      </p>
      <div class="code-panel">
        <pre class="prettyprint">&lt;script&gt;
    var arr = [1,2,3];
    var json = {one: 1, two: 2, three: 3};
    _.each(arr, function(value, key, list){
      console.log("value:" + value);//值
      console.log("key:" + key); //数组下标，json的key
      console.log("list:" + list);//源list
    });
    _.each(json, function(value, key, list){
      console.log("value:" + value);//值
      console.log("key:" + key); //数组下标，json的key
      console.log("list:" + list);//源list
    });
&lt;/script&gt;</pre>
        <button id="each_btn" class="btn btn-position"> 执行</button>
        <pre id="each_console" class="prettyprint"></pre>
      </div>

      <h3 id="view_map"> map</h3>
      <ul>
        <li>_.map(list, iteratee, [context]) &nbsp;&nbsp;&nbsp;&nbsp;<i>Alias: <strong>collect</strong></i></li>
      </ul>
      <p>
        说明：通过转换函数(<strong>iteratee</strong>迭代器)映射列表中的每个值产生价值的新数组。
   		  iteratee传递三个参数：value，然后是迭代 index(或 key 如果<strong>list</strong>是个JavaScript对象是，这个参数就是key)，最后一个是引用指向整个<strong>list</strong>。<br />
   		  与_.each()区别:<br />
   		  其中一个重要的区别是，each返回的是原来的数组，并不会新创建一个数组。
   		  而map方法会返回一个新的数组。如果在没有必要的情况下使用map，则有可能造成内存浪费。
      </p>
      <div class="code-panel">
        <pre class="prettyprint">&lt;script&gt;
    var arr = [1,2,3];
    var json = {one: 1, two: 2, three: 3};
    _.map(json, function(value, key, list){
      console.log("value" + value);//值
      console.log("key" + key); //数组下标，json的key
      console.log("list" + list);//源list
    });
    console.log(_.map(arr, function(num){ return num * 3; }));
    console.log(_.map(json, function(num, key){ return num * 3; }));
    console.log(_.map([[1, 2], [3, 4]], _.first));
&lt;/script&gt;</pre>
        <button id="map_btn" class="btn btn-position"> 执行</button>
        <pre id="map_console" class="prettyprint"></pre>
      </div>

      <h3 id="view_reduce"> reduce</h3>
      <ul>
        <li>_.reduce(list, iteratee, [memo], [context]) &nbsp;&nbsp;&nbsp;&nbsp;<i>Alias: <strong>inject, foldl</strong></i></li>
      </ul>
      <p>
        说明：<strong>reduce</strong>方法把<strong>list</strong>中元素归结为一个单独的数值。<br />对数组中的所有元素调用指定的回调函数，该回调函数的返回值为累积结果。
             <strong>Memo</strong>是<strong>reduce</strong>函数的初始值，<strong>reduce</strong>的每一步都需要由<strong>iteratee</strong>返回。<br />
             这个迭代传递4个参数：<strong>memo</strong>,<strong>value</strong> 和 迭代的<strong>index</strong>（或者 <strong>key</strong>）和最后一个引用的整个<strong>list</strong>。<br />
             如果没有<strong>memo</strong>传递给<strong>reduce</strong>的初始调用，<strong>iteratee</strong>不会被列表中的第一个元素调用。<br />
             第一个元素将取代 传递给列表中下一个元素调用<strong>iteratee</strong>的<strong>memo</strong>参数。
      </p>
      <div class="code-panel">
        <pre class="prettyprint">&lt;script&gt;
    var arr = [1, 2, 3];
    _.reduce(arr, function(memo, value, index, list) { //memo是设置一个初始值,element是数组值,index是值在数组位置,list是整个数组
      console.log("memo:" + memo); //初始值
      console.log("value:" + value); //元素值
      console.log("index:" + index); //数组下标值
      console.log("list:" + list); //源list
    }, 1); //注意1就是参数memo

    var sum = _.reduce(arr, function(memo, num){ return memo + num; }, 0);
    console.log("sum:" + sum);

    var result = _.reduce(arr, function(memo, num){
      console.log("memo:" + memo);
      console.log("num:" + num);
      return memo + num;
    }, 3);
    console.log(result);
&lt;/script&gt;</pre>
        <button id="reduce_btn" class="btn btn-position"> 执行</button>
        <pre id="reduce_console" class="prettyprint"></pre>
      </div>

      <h3 id="view_reduceRight"> reduceRight</h3>
      <ul>
        <li>_.reduceRight(list, iteratee, memo, [context]) &nbsp;&nbsp;&nbsp;&nbsp;<i>Alias: <strong>foldr</strong></i></li>
      </ul>
      <p>
        说明：<strong>reducRight</strong>是从右侧开始组合的元素的<strong>reduce</strong>函数，如果存在JavaScript 1.8版本的<strong>reduceRight</strong>，则用其代替。
      </p>
      <div class="code-panel">
        <pre class="prettyprint">&lt;script&gt;
    var arr = [1, 2, 3];
    _.reduceRight(arr, function(memo, value, index, list) { //memo是设置一个初始值,value是数组值,index是值在数组位置,list是整个数组
      console.log("memo:" + memo); //初始值
      console.log("value:" + value); //元素值
      console.log("index:" + index); //数组下标值
      console.log("list:" + list); //源list
    }, 1); //注意1就是参数memo

    var sum = _.reduceRight(arr, function(memo, num){ return memo + num; }, 0);
    console.log("sum:" + sum);
&lt;/script&gt;</pre>
        <button id="reduceRight_btn" class="btn btn-position"> 执行</button>
        <pre id="reduceRight_console" class="prettyprint"></pre>
      </div>

      <h3 id="view_find"> find</h3>
      <ul>
        <li>_.find(list, predicate, [context]) &nbsp;&nbsp;&nbsp;&nbsp;<i>Alias: <strong>detect</strong></i></li>
      </ul>
      <p>
        说明：在<strong>list</strong>中逐项查找，返回第一个通过<strong>predicate</strong>迭代函数真值检测的元素值，如果没有值传递给测试迭代器将返回<strong>undefined</strong>。<br />
          如果找到匹配的元素，函数将立即返回，不会遍历整个<strong>list</strong>。
      </p>
      <div class="code-panel">
        <pre class="prettyprint">&lt;script&gt;
    var arr = [1, 2, 3];
    _.find(arr, function(value, index, list) { //memo是设置一个初始值,value是数组值,index是值在数组位置,list是整个数组
      console.log("value:" + value); //元素值
      console.log("index:" + index); //数组下标值
      console.log("list:" + list); //源list
    });
    var even = _.find([1, 2, 3, 4, 5, 6], function(num){ return num % 2 == 0; });
    console.log("even:" + even);
&lt;/script&gt;</pre>
        <button id="find_btn" class="btn btn-position"> 执行</button>
        <pre id="find_console" class="prettyprint"></pre>
      </div>

      <h3 id="view_filter"> filter</h3>
      <ul>
        <li>_.filter(list, predicate, [context]) &nbsp;&nbsp;&nbsp;&nbsp;<i>Alias: <strong>select</strong></i></li>
      </ul>
      <p>
        说明：遍历<strong>list</strong>中的每个值，返回包含所有通过<strong>predicate</strong>真值检测的元素值。<br />
          如果存在原生<strong>filter</strong>方法，则用原生的<strong>filter</strong>方法。
      </p>
      <div class="code-panel">
        <pre class="prettyprint">&lt;script&gt;
    var arr = [1, 2, 3];
    _.filter(arr, function(value, index, list) { //memo是设置一个初始值,value是数组值,index是值在数组位置,list是整个数组
      console.log("value:" + value); //元素值
      console.log("index:" + index); //数组下标值
      console.log("list:" + list); //源list
    });
    var even = _.filter([1, 2, 3, 4, 5, 6], function(num){ return num % 2 == 0; });
    console.log("even:" + even);
&lt;/script&gt;</pre>
        <button id="filter_btn" class="btn btn-position"> 执行</button>
        <pre id="filter_console" class="prettyprint"></pre>
      </div>

      <h3 id="view_where"> where</h3>
      <ul>
        <li>_.where(list, properties)</li>
      </ul>
      <p>
        说明：遍历<strong>list</strong>中的每一个值，返回一个数组，这个数组包含<strong>properties</strong>所列出的属性的所有的 键 - 值对。
      </p>
      <div class="code-panel">
        <pre class="prettyprint">&lt;script&gt;
    var list = [{name: "wang", year: 2017, old: 18, remark: "test value1"},
               {name: "chen", year: 2015, old: 12, remark: "test value2"},
               {name: "king", year: 2013, old: 18, remark: "test value3"},
               {name: "zhao", year: 2017, old: 18, remark: "test value4"},
               {name: "qing", year: 2012, old: 13, remark: "test value5"},
               {name: "hash", year: 2018, old: 17, remark: "test value6"}];
    console.log(_.where(list, {year: 2017, old: 18}));
&lt;/script&gt;</pre>
        <button id="where_btn" class="btn btn-position"> 执行</button>
        <pre id="where_console" class="prettyprint"></pre>
      </div>

      <h3 id="view_findWhere"> findWhere</h3>
      <ul>
        <li>_.findWhere(list, properties)</li>
      </ul>
      <p>
        说明：遍历整个<strong>list</strong>，返回匹配 <strong>properties</strong>参数所列出的所有 键 - 值 对的第一个值。
          如果没有找到匹配的属性，或者<strong>list</strong>是空的，那么将返回<strong>undefined</strong>。
      </p>
      <div class="code-panel">
        <pre class="prettyprint">&lt;script&gt;
    var list = [{name: "wang", year: 2017, old: 18, remark: "test value1"},
               {name: "chen", year: 2015, old: 12, remark: "test value2"},
               {name: "king", year: 2013, old: 18, remark: "test value3"},
               {name: "zhao", year: 2017, old: 18, remark: "test value4"},
               {name: "qing", year: 2012, old: 13, remark: "test value5"},
               {name: "hash", year: 2018, old: 17, remark: "test value6"}];
    console.log(_.findWhere(list, {year: 2017, old: 18}));
&lt;/script&gt;</pre>
        <button id="findWhere_btn" class="btn btn-position"> 执行</button>
        <pre id="findWhere_console" class="prettyprint"></pre>
      </div>

      <h3 id="view_reject"> reject</h3>
      <ul>
        <li>_.reject(list, predicate, [context])</li>
      </ul>
      <p>
        说明：返回<strong>list</strong>中没有通过<strong>predicate</strong>真值检测的元素集合，与<strong>filter</strong>相反。
      </p>
      <div class="code-panel">
        <pre class="prettyprint">&lt;script&gt;
    var oods = _.reject([1, 2, 3, 4, 5, 6], function(num){ return num % 2 == 0; });
    console.log("oods:" + oods);
&lt;/script&gt;</pre>
        <button id="reject_btn" class="btn btn-position"> 执行</button>
        <pre id="reject_console" class="prettyprint"></pre>
      </div>

      <h3 id="view_every"> every</h3>
      <ul>
        <li>_.every(list, [predicate], [context]) &nbsp;&nbsp;&nbsp;&nbsp;<i>Alias: <strong>all</strong></i></li>
      </ul>
      <p>
        说明：如果<strong>list</strong>中的所有元素都通过<strong>predicate</strong>的真值检测就返回<strong>true</strong>。<br />
          即<strong>every</strong>方法判断数组的所有元素是否都满足某个条件。如果都满足则返回<strong>true</strong>，否则返回<strong>false</strong>。<br />
          如果存在原生的<strong>every</strong>方法，就使用原生的<strong>every</strong>。
      </p>
      <div class="code-panel">
        <pre class="prettyprint">&lt;script&gt;
    var result1 = _.every([true, 1, null, 'yes'], _.identity);
    console.log("result1:" + result1);
    var result2 = _.every([1, 2, 3, 4, 5, 6], function(num){ return num % 2 == 0; });
    console.log("result2:" + result2);
&lt;/script&gt;</pre>
        <button id="every_btn" class="btn btn-position"> 执行</button>
        <pre id="every_console" class="prettyprint"></pre>
      </div>

      <h3 id="view_some"> some</h3>
      <ul>
        <li>_.some(list, [predicate], [context]) &nbsp;&nbsp;&nbsp;&nbsp;<i>Alias: <strong>any</strong></i></li>
      </ul>
      <p>
        说明：如果<strong>list</strong>中有任何一个元素都通过<strong>predicate</strong>的真值检测就返回<strong>true</strong>。<br />
          <strong>some</strong>方法则是只要有一个元素满足，就返回<strong>true</strong>，否则返回<strong>false</strong>。<br />
          如果存在原生的<strong>some</strong>方法，就使用原生的<strong>some</strong>。
      </p>
      <div class="code-panel">
        <pre class="prettyprint">&lt;script&gt;
    var result1 = _.some([true, 1, null, 'yes'], _.identity);
    console.log("result1:" + result1);
    var result2 = _.some([1, 2, 3, 4, 5, 6], function(num){ return num % 2 == 0; });
    console.log("result2:" + result2);
&lt;/script&gt;</pre>
        <button id="some_btn" class="btn btn-position"> 执行</button>
        <pre id="some_console" class="prettyprint"></pre>
      </div>

      <h3 id="view_contains"> contains</h3>
      <ul>
        <li>_.contains(list, value, [fromIndex]) &nbsp;&nbsp;&nbsp;&nbsp;<i>Alias: <strong>includes</strong></i></li>
      </ul>
      <p>
        说明：如果<strong>list</strong>包含指定的<strong>value</strong>则返回<strong>true</strong>（注：使用===检测）。
        如果<strong>list</strong> 是数组，内部使用<strong>indexOf</strong>判断。使用<strong>fromIndex</strong>来给定开始检索的索引位置。
      </p>
      <div class="code-panel">
        <pre class="prettyprint">&lt;script&gt;
    var result = _.contains([1, 2, 3, 4, 5, 6], 3);
    console.log("result:" + result);
&lt;/script&gt;</pre>
        <button id="contains_btn" class="btn btn-position"> 执行</button>
        <pre id="contains_console" class="prettyprint"></pre>
      </div>

      <h3 id="view_invoke"> invoke</h3>
      <ul>
        <li>_.invoke(list, methodName, *arguments)</li>
      </ul>
      <p>
        说明：在<strong>list</strong>的每个元素上执行<strong>methodName</strong>方法。 任何传递给<strong>invoke</strong>的额外参数，<strong>invoke</strong>都会在调用<strong>methodName</strong>方法的时候传递给它。
      </p>
      <div class="code-panel">
        <pre class="prettyprint">&lt;script&gt;
    var result = _.invoke([[5, 1, 7], [3, 2, 1]], 'sort');
    console.log("result:" + result);
&lt;/script&gt;</pre>
        <button id="invoke_btn" class="btn btn-position"> 执行</button>
        <pre id="invoke_console" class="prettyprint"></pre>
      </div>

      <h3 id="view_pluck"> pluck</h3>
      <ul>
        <li>_.pluck(list, propertyName)</li>
      </ul>
      <p>
        说明：<strong>pluck</strong>也许是<strong>map</strong>最常使用的用例模型的简化版本，即萃取数组对象中某属性值，返回一个数组。
      </p>
      <div class="code-panel">
        <pre class="prettyprint">&lt;script&gt;
    var stooges = [{name: 'moe', age: 40}, {name: 'larry', age: 50}, {name: 'curly', age: 60}];
    console.log(_.pluck(stooges, 'name'));
&lt;/script&gt;</pre>
        <button id="pluck_btn" class="btn btn-position"> 执行</button>
        <pre id="pluck_console" class="prettyprint"></pre>
      </div>

      <h3 id="view_max"> max</h3>
      <ul>
        <li>_.max(list, [iteratee], [context])</li>
      </ul>
      <p>
        说明：返回<strong>list</strong>中的最大值。如果传递<strong>iteratee</strong>参数，<strong>iteratee</strong>将作为<strong>list</strong>中每个值的排序依据。
          如果<strong>list</strong>为空，将返回<strong>-Infinity</strong>，所以你可能需要事先用<strong>isEmpty</strong>检查 <strong>list</strong>。
      </p>
      <div class="code-panel">
        <pre class="prettyprint">&lt;script&gt;
    var stooges = [{name: 'moe', age: 40}, {name: 'larry', age: 50}, {name: 'curly', age: 60}];
    console.log(_.max(stooges, function(stooge){ return stooge.age; }));
&lt;/script&gt;</pre>
        <button id="max_btn" class="btn btn-position"> 执行</button>
        <pre id="max_console" class="prettyprint"></pre>
      </div>

      <h3 id="view_min"> min</h3>
      <ul>
        <li>_.min(list, [iteratee], [context])</li>
      </ul>
      <p>
        说明：返回<strong>list</strong>中的最小值。如果传递<strong>iteratee</strong>参数，<strong>iteratee</strong>将作为<strong>list</strong>中每个值的排序依据。
          如果<strong>list</strong>为空，将返回<strong>-Infinity</strong>，所以你可能需要事先用<strong>isEmpty</strong>检查 <strong>list</strong>。
      </p>
      <div class="code-panel">
        <pre class="prettyprint">&lt;script&gt;
    var numbers = [10, 5, 100, 2, 1000];
    console.log(_.min(numbers));
&lt;/script&gt;</pre>
        <button id="min_btn" class="btn btn-position"> 执行</button>
        <pre id="min_console" class="prettyprint"></pre>
      </div>

      <h3 id="view_sortBy"> sortBy</h3>
      <ul>
        <li>_.sortBy(list, iteratee, [context])</li>
      </ul>
      <p>
        说明：返回一个排序后的<strong>list</strong>拷贝副本。如果传递<strong>iteratee</strong>参数，<strong>iteratee</strong>将作为<strong>list</strong>中每个值的排序依据。
          迭代器也可以是字符串的属性的名称进行排序的(比如 length)。
      </p>
      <div class="code-panel">
        <pre class="prettyprint">&lt;script&gt;
    var result1 = _.sortBy([1, 2, 3, 4, 5, 6], function(num){ return Math.sin(num); });
    console.log(result1);

    var stooges = [{name: 'moe', age: 40}, {name: 'larry', age: 50}, {name: 'curly', age: 60}];
    var result2 = _.sortBy(stooges, 'name');
    console.log(result2);
&lt;/script&gt;</pre>
        <button id="sortBy_btn" class="btn btn-position"> 执行</button>
        <pre id="sortBy_console" class="prettyprint"></pre>
      </div>

      <h3 id="view_groupBy"> groupBy</h3>
      <ul>
        <li>_.groupBy(list, iteratee, [context])</li>
      </ul>
      <p>
        说明：把一个集合分组为多个集合，通过 <strong>iterator</strong> 返回的结果进行分组. 如果 <strong>iterator</strong> 是一个字符串而不是函数, 那么将使用 <strong>iterator</strong> 作为各元素的属性名来对比进行分组。
      </p>
      <div class="code-panel">
        <pre class="prettyprint">&lt;script&gt;
    var result1 = _.groupBy([1.3, 2.1, 2.4], function(num){ return Math.floor(num); });
    console.log(result1);
    var result2 = _.groupBy(['one', 'two', 'three'], 'length');
    console.log(result2);
&lt;/script&gt;</pre>
        <button id="groupBy_btn" class="btn btn-position"> 执行</button>
        <pre id="groupBy_console" class="prettyprint"></pre>
      </div>

      <h3 id="view_indexBy"> indexBy</h3>
      <ul>
        <li>_.indexBy(list, iteratee, [context])</li>
      </ul>
      <p>
        说明：给定一个<strong>list</strong>，和 一个用来返回一个在列表中的每个元素键 的<strong>iterator</strong> 函数（或属性名）， 返回一个每一项索引的对象。
          和<strong>groupBy</strong>非常像，但是当你知道你的键是唯一的时候可以使用<strong>indexBy</strong> 。
      </p>
      <div class="code-panel">
        <pre class="prettyprint">&lt;script&gt;
    var stooges = [{name: 'moe', age: 40}, {name: 'larry', age: 50}, {name: 'curly', age: 60}];
    var result =  _.indexBy(stooges, 'age');
    console.log(result);
&lt;/script&gt;</pre>
        <button id="indexBy_btn" class="btn btn-position"> 执行</button>
        <pre id="indexBy_console" class="prettyprint"></pre>
      </div>

      <h3 id="view_countBy"> countBy</h3>
      <ul>
        <li>_.countBy(list, iteratee, [context])</li>
      </ul>
      <p>
        说明：排序一个列表组成一个组，并且返回各组中的对象的数量的计数。类似<strong>groupBy</strong>，但是不是返回列表的值，而是返回在该组中值的数目。
      </p>
      <div class="code-panel">
        <pre class="prettyprint">&lt;script&gt;
    var result = _.countBy([1, 2, 3, 4, 5], function(num) {
      return num % 2 == 0 ? 'even': 'odd';
    });
    console.log(result);
&lt;/script&gt;</pre>
        <button id="countBy_btn" class="btn btn-position"> 执行</button>
        <pre id="countBy_console" class="prettyprint"></pre>
      </div>

      <h3 id="view_shuffle"> shuffle</h3>
      <ul>
        <li>_.shuffle(list)</li>
      </ul>
      <p>
        说明：返回一个随机乱序的 <strong>list</strong> 副本, 使用 Fisher-Yates shuffle 来进行随机乱序.
      </p>
      <div class="code-panel">
        <pre class="prettyprint">&lt;script&gt;
    var result = _.shuffle([1, 2, 3, 4, 5, 6]);
    console.log(result);
&lt;/script&gt;</pre>
        <button id="shuffle_btn" class="btn btn-position"> 执行</button>
        <pre id="shuffle_console" class="prettyprint"></pre>
      </div>

      <h3 id="view_sample"> sample</h3>
      <ul>
        <li>_.sample(list, [n])</li>
      </ul>
      <p>
        说明：从 <strong>list</strong>中产生一个随机样本。传递一个数字表示从<strong>list</strong>中返回<strong>n</strong>个随机元素。否则将返回一个单一的随机项。
      </p>
      <div class="code-panel">
        <pre class="prettyprint">&lt;script&gt;
  var result1 = _.sample([1, 2, 3, 4, 5, 6]);
  console.log(result1);

  var result2 = _.sample([1, 2, 3, 4, 5, 6], 3);
  console.log(result2);
&lt;/script&gt;</pre>
        <button id="sample_btn" class="btn btn-position"> 执行</button>
        <pre id="sample_console" class="prettyprint"></pre>
      </div>

      <h3 id="view_toArray"> toArray</h3>
      <ul>
        <li>_.toArray(list)</li>
      </ul>
      <p>
        说明：把<strong>list</strong>(任何可以迭代的对象)转换成一个数组，在转换 <strong>arguments</strong> 对象时非常有用。
          即<strong>toArray</strong>方法将对象转为数组，只包含对象成员的值。典型应用是将对类似数组的对象转为真正的数组。
      </p>
      <div class="code-panel">
        <pre class="prettyprint">&lt;script&gt;
  var result1 = _.toArray({a:0,b:1,c:2});
  console.log(result1);

  var result2 = (function(){ return _.toArray(arguments).slice(1); })(1, 2, 3, 4);
  console.log(result2);
&lt;/script&gt;</pre>
        <button id="toArray_btn" class="btn btn-position"> 执行</button>
        <pre id="toArray_console" class="prettyprint"></pre>
      </div>

      <h3 id="view_size"> size</h3>
      <ul>
        <li>_.size(list)</li>
      </ul>
      <p>
        说明：返回<strong>list</strong>的长度。
      </p>
      <div class="code-panel">
        <pre class="prettyprint">&lt;script&gt;
  var result = _.size({one: 1, two: 2, three: 3});
  console.log(result);
&lt;/script&gt;</pre>
        <button id="size_btn" class="btn btn-position"> 执行</button>
        <pre id="size_console" class="prettyprint"></pre>
      </div>

      <h3 id="view_partition"> partition</h3>
      <ul>
        <li>_.partition(array, predicate)</li>
      </ul>
      <p>
        说明：拆分一个数组（<strong>array</strong>）为两个数组： 第一个数组其元素都满足<strong>predicate</strong>迭代函数， 而第二个的所有元素均不能满足<strong>predicate</strong>迭代函数。
      </p>
      <div class="code-panel">
        <pre class="prettyprint">&lt;script&gt;
  var result = _.partition([0, 1, 2, 3, 4, 5], function(num){ return num % 2 == 0; });
  console.log(result);
&lt;/script&gt;</pre>
        <button id="partition_btn" class="btn btn-position"> 执行</button>
        <pre id="partition_console" class="prettyprint"></pre>
      </div>

      <hr>
      <h2> 数组(Array)</h2>
      <h3 id="view_first"> first</h3>
      <ul>
        <li>_.first(array, [n])</li>
      </ul>
      <p>
        说明：返回<strong>array</strong>（数组）的第一个元素。传递 <strong>n</strong>参数将返回数组中从第一个元素开始的<strong>n</strong>个元素（注：返回数组中前 <strong>n</strong> 个元素.）。
      </p>
      <div class="code-panel">
        <pre class="prettyprint">&lt;script&gt;
  var result1 =_.first([5, 4, 3, 2, 1]);
  console.log(result1);

  var result2 =_.first([5, 4, 3, 2, 1], 3);
  console.log(result2);
&lt;/script&gt;</pre>
        <button id="first_btn" class="btn btn-position"> 执行</button>
        <pre id="first_console" class="prettyprint"></pre>
      </div>
    </div>
  </div>
</section>
<footer>
  <div class="">
    <p> &copy; Copyright Wacher. All Rights Reserved.</p>
  </div>
</footer>
</div>
<script type="text/javascript" src="js/jquery-1.12.3.js"></script>
<script type="text/javascript" src="js/prettify/prettify.js"></script>
<script src="https://cdn.bootcss.com/prettify/r298/run_prettify.js"></script>
<script type="text/javascript" src="js/underscore.js"></script>
<script type="text/javascript" src="js/layout.js"></script>
<script type="text/javascript">
  $(function() {
    //each
    $("#each_btn").on('click', function() {
      var arr = [1,2,3];
      var json = {one: 1, two: 2, three: 3};
      var contexts = '';
      _.each(arr, function(value, key, list){
        contexts += 'value:'+value+'<br/>'+'key:'+key+'<br/>'+'list:'+list+'<br/>';
      });
      _.each(json, function(value, key, list){
        contexts += '<br/>value:'+value+'<br/>'+'key:'+key+'<br/>'+'list:'+list;
      });
      $("#each_console").html(contexts);
    });
    //map
    $("#map_btn").on('click', function() {
      var arr = [1,2,3];
      var json = {one: 1, two: 2, three: 3};
      var contexts = '';
      _.map(json, function(value, key, list){
        contexts += 'value:'+value+'<br/>'+'key:'+key+'<br/>'+'list:'+list+'<br/>';
      });
      contexts += _.map(arr, function(num){ return num * 3; })+'<br/>';
      contexts += _.map(json, function(num, key){ return num * 3; })+'<br/>';
      contexts += _.map([[1, 2], [3, 4]], _.first);
      $("#map_console").html(contexts);
    });
    //reduce
    $("#reduce_btn").on('click', function() {
      var arr = [1, 2, 3];
      var contexts = '';
      _.reduce(arr, function(memo, value, index, list) {
        contexts += 'memo:'+memo+'<br/>'+'value:'+value+'<br/>'+'index:'+index+'<br/>'+'list:'+list+'<br/>';
      }, 1);
      contexts += '<br/>sum:'+_.reduce(arr, function(memo, num){ return memo + num; }, 0)+'<br/><br/>';
      var result = _.reduce(arr, function(memo, num){
        contexts += 'memo:'+memo+'<br/>'+'num:'+num+'<br/>';
        return memo + num;
      }, 3);
      contexts += 'result:'+result;
      $("#reduce_console").html(contexts);
    });
    //reduceRight
    $("#reduceRight_btn").on('click', function() {
      var arr = [1, 2, 3];
      var contexts = '';
      _.reduceRight(arr, function(memo, value, index, list) {
        contexts += 'memo:'+memo+'<br/>'+'value:'+value+'<br/>'+'index:'+index+'<br/>'+'list:'+list+'<br/>';
      }, 1);
      contexts += '<br/>sum:'+_.reduceRight(arr, function(memo, num){ return memo + num; }, 0);
      $("#reduceRight_console").html(contexts);
    });
    //find
    $("#find_btn").on('click', function() {
      var arr = [1, 2, 3];
      var contexts = '';
      _.find(arr, function(value, index, list) {
        contexts += 'value:'+value+'<br/>'+'index:'+index+'<br/>'+'list:'+list+'<br/>';
      });
      contexts += '<br/>even:'+_.find([1, 2, 3, 4, 5, 6], function(num){ return num % 2 == 0; });
      $("#find_console").html(contexts);
    });
    //filter
    $("#filter_btn").on('click', function() {
      var arr = [1, 2, 3];
      var contexts = '';
      _.filter(arr, function(value, index, list) {
        contexts += 'value:'+value+'<br/>'+'index:'+index+'<br/>'+'list:'+list+'<br/>';
      });
      contexts += '<br/>even:'+_.filter([1, 2, 3, 4, 5, 6], function(num){ return num % 2 == 0; });
      $("#filter_console").html(contexts);
    });
    //where
    $("#where_btn").on('click', function() {
      var contexts = '';
      var list = [{name: "wang", year: 2017, old: 18, remark: "test value1"},
                  {name: "chen", year: 2015, old: 12, remark: "test value2"},
                  {name: "king", year: 2013, old: 18, remark: "test value3"},
                  {name: "zhao", year: 2017, old: 18, remark: "test value4"},
                  {name: "qing", year: 2012, old: 13, remark: "test value5"},
                  {name: "hash", year: 2018, old: 17, remark: "test value6"}];
      var result = _.where(list, {year: 2017, old: 18});
      contexts += '[';
      _.each(result, function(value, key, list){
        contexts += key == 0 ? '{' : '&nbsp;{';
        _.each(list[key], function(value, key, list){
          contexts += key+':'+value+',';
        });
        contexts = contexts.substring(0, contexts.length-1)+'},';
        if(key == _.size(list)-1){
          contexts = contexts.substring(0, contexts.length-1);
        } else {
          contexts += '<br/>';
        }
      });
      contexts += ']';
      $("#where_console").html(contexts);
    });

    //findWhere
    $("#findWhere_btn").on('click', function() {
      var contexts = '';
      var list = [{name: "wang", year: 2017, old: 18, remark: "test value1"},
                  {name: "chen", year: 2015, old: 12, remark: "test value2"},
                  {name: "king", year: 2013, old: 18, remark: "test value3"},
                  {name: "zhao", year: 2017, old: 18, remark: "test value4"},
                  {name: "qing", year: 2012, old: 13, remark: "test value5"},
                  {name: "hash", year: 2018, old: 17, remark: "test value6"}];
      var result = _.findWhere(list, {year: 2017, old: 18});
      contexts += '{';
      _.each(result, function(value, key, list){
        contexts += key+':'+value+',';
      });
      contexts = contexts.substring(0, contexts.length-1)+'}';
      $("#findWhere_console").html(contexts);
    });

    //reject
    $("#reject_btn").on('click', function() {
      $("#reject_console").html('odds:'+_.reject([1, 2, 3, 4, 5, 6], function(num){ return num % 2 == 0; }));
    });

    //every
    $("#every_btn").on('click', function() {
      $("#every_console").html('result1:'+_.every([true, 1, null, 'yes'], _.identity)+'<br/>'+'result2:'+_.every([1, 2, 3, 4, 5, 6], function(num){ return num % 2 == 0; }));
    });

    //some
    $("#some_btn").on('click', function() {
      $("#some_console").html('result1:'+_.some([true, 1, null, 'yes'], _.identity)+'<br/>'+'result2:'+_.some([1, 2, 3, 4, 5, 6], function(num){ return num % 2 == 0; }));
    });

    //contains
    $("#contains_btn").on('click', function() {
      $("#contains_console").html('result:'+_.contains([1, 2, 3, 4, 5, 6], 3));
    });

    //invoke
    $("#invoke_btn").on('click', function() {
      var result = _.invoke([[5, 1, 7], [3, 2, 1]], 'sort');
      var contexts = '[';
      _.each(result, function(value, key, list){
        contexts += '[';
        _.each(list[key], function(value, key, list){
          contexts += value+',';
        });
        contexts = contexts.substring(0, contexts.length-1)+'],';
        if(key == _.size(list)-1){
          contexts = contexts.substring(0, contexts.length-1);
        }
      });
      contexts += ']';
      $("#invoke_console").html('result:'+contexts);
    });

    //pluck
    $("#pluck_btn").on('click', function() {
      var stooges = [{name: 'moe', age: 40}, {name: 'larry', age: 50}, {name: 'curly', age: 60}];
      var result = _.pluck(stooges, 'name');
      var contexts = '[';
      _.each(result, function(value, key, list){
        contexts += value+',';
      });
      contexts = contexts.substring(0, contexts.length-1)+']';
      $("#pluck_console").html(contexts);
    });

    //max
    $("#max_btn").on('click', function() {
      var stooges = [{name: 'moe', age: 40}, {name: 'larry', age: 50}, {name: 'curly', age: 60}];
      var result = _.max(stooges, function(stooge){ return stooge.age; });
      var contexts = '{';
      _.each(result, function(value, key, list){
        contexts += key+':'+value+',';
      });
      contexts = contexts.substring(0, contexts.length-1)+'}';
      $("#max_console").html(contexts);
    });

    //min
    $("#min_btn").on('click', function() {
      var numbers = [10, 5, 100, 2, 1000];
      $("#min_console").html(_.min(numbers));
    });

    //sortBy
    $("#sortBy_btn").on('click', function() {
      var result1 = _.sortBy([1, 2, 3, 4, 5, 6], function(num){ return Math.sin(num); });
      var contexts = '[';
      _.each(result1, function(value, key, list){
        contexts += value+',';
      });
      contexts = contexts.substring(0, contexts.length-1)+']<br/><br/>';

      var stooges = [{name: 'moe', age: 40}, {name: 'larry', age: 50}, {name: 'curly', age: 60}];
      var result2 = _.sortBy(stooges, 'name');
      contexts += '[';
      _.each(result2, function(value, key, list){
        contexts += '{';
        _.each(list[key], function(value, key, list){
          contexts += key+':'+value+',';
        });
        contexts = contexts.substring(0, contexts.length-1)+'},';
        if(key == list.length-1){
          contexts = contexts.substring(0, contexts.length-1);
        }
      });
      contexts += ']';
      $("#sortBy_console").html(contexts);
    });

    //groupBy
    $("#groupBy_btn").on('click', function() {
      var result1 = _.groupBy([1.3, 2.1, 2.4], function(num){ return Math.floor(num); });
      var contexts = '{';
      _.each(result1, function(value, key, list){
        contexts += key+':[';
        _.each(list[key], function(value, key, list){
          contexts += value+',';
        });
        contexts = contexts.substring(0, contexts.length-1)+'],';
      });
      contexts = contexts.substring(0, contexts.length-1)+'}<br/>';

      var result2 = _.groupBy(['one', 'two', 'three'], 'length');
      contexts += '{';
      _.each(result2, function(value, key, list){
        contexts += key+':[';
        _.each(list[key], function(value, key, list){
          contexts += value+',';
        });
        contexts = contexts.substring(0, contexts.length-1)+'],';
      });
      contexts = contexts.substring(0, contexts.length-1)+'}';
      $("#groupBy_console").html(contexts);
    });

    //indexBy
    $("#indexBy_btn").on('click', function() {
      var stooges = [{name: 'moe', age: 40}, {name: 'larry', age: 50}, {name: 'curly', age: 60}];
      var i = 0, result = _.indexBy(stooges, 'age');
      var contexts = '{';
      _.each(result, function(value, key, list){
        contexts += i == 0 ? key+':[' : '&nbsp;'+key+':[';
        _.each(list[key], function(value, key, list){
          contexts += key+':'+value+',';
        });
        contexts = contexts.substring(0, contexts.length-1)+'],';
        if(i == _.size(list)-1){
          contexts = contexts.substring(0, contexts.length-1);
        } else {
          contexts += '<br/>';
        }
        i++;
      });
      contexts += '}';
      $("#indexBy_console").html(contexts);
    });

    //countBy
    $("#countBy_btn").on('click', function() {
      var result = _.countBy([1, 2, 3, 4, 5], function(num) {
        return num % 2 == 0 ? 'even': 'odd';
      });
      var contexts = '{';
      _.each(result, function(value, key, list){
        contexts += key+':'+value+',';
      });
      contexts = contexts.substring(0, contexts.length-1)+'}';
      $("#countBy_console").html(contexts);
    });

    //shuffle
    $("#shuffle_btn").on('click', function() {
      var result = _.shuffle([1, 2, 3, 4, 5, 6]);
      var contexts = '[';
      _.each(result, function(value, key, list){
        contexts += value+',';
      });
      contexts = contexts.substring(0, contexts.length-1)+']';
      $("#shuffle_console").html(contexts);
    });

    //sample
    $("#sample_btn").on('click', function() {
      var result1 = _.sample([1, 2, 3, 4, 5, 6]);
      var contexts = result1+'<br/>';
      var result2 = _.sample([1, 2, 3, 4, 5, 6], 3);
      contexts += '[';
      _.each(result2, function(value, key, list){
        contexts += value+',';
      });
      contexts = contexts.substring(0, contexts.length-1)+']';
      $("#sample_console").html(contexts);
    });

    //toArray
    $("#toArray_btn").on('click', function() {
      var result1 = _.toArray({a:0,b:1,c:2});
      var contexts = '[';
      _.each(result1, function(value, key, list){
        contexts += value+',';
      });
      contexts = contexts.substring(0, contexts.length-1)+']<br/>';
      var result2 = (function(){ return _.toArray(arguments).slice(1); })(1, 2, 3, 4);
      contexts += '[';
      _.each(result2, function(value, key, list){
        contexts += value+',';
      });
      contexts = contexts.substring(0, contexts.length-1)+']';
      $("#toArray_console").html(contexts);
    });

    //size
    $("#size_btn").on('click', function() {
      $("#size_console").html(_.size({one: 1, two: 2, three: 3}));
    });

    //partition
    $("#partition_btn").on('click', function() {
      var result = _.partition([0, 1, 2, 3, 4, 5], function(num){ return num % 2 == 0; });
      var contexts = '[';
      _.each(result, function(value, key, list){
        contexts += '[';
        _.each(list[key], function(value, key, list){
          contexts += value+',';
        });
        contexts = contexts.substring(0, contexts.length-1) + '],';
      });
      contexts = contexts.substring(0, contexts.length-1) + ']';
      $("#partition_console").html(contexts);
    });

    //first
    $("#first_btn").on('click', function() {
      var result1 = _.first([5, 4, 3, 2, 1]);
      var contexts = result1+'<br/>';
      var result2 = _.first([5, 4, 3, 2, 1], 3);
      contexts += '[';
      _.each(result2, function(value, key, list){
        contexts += value+',';
      });
      contexts = contexts.substring(0, contexts.length-1)+']';
      $("#first_console").html(contexts);
    });
  });
</script>
</body>
</html>
